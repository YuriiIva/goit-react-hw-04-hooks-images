{"version":3,"sources":["services/Api.js","components/Searchbar/Searchbar.jsx","components/common/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/common/ErrorMsg/ErrorMsg.jsx","components/common/Loader/Loader.jsx","components/App/App.jsx","index.js"],"names":["BASE_URL","API_KEY","fetchImg","imeges","a","page","fetch","res","ok","json","Promise","reject","Error","statusText","Searchbar","state","searchImg","handleChange","e","setState","target","value","toLowerCase","handleSubmit","preventDefault","props","input","className","onSubmit","this","type","onChange","autoComplete","autoFocus","placeholder","Component","modalRootRef","document","querySelector","Modal","handleEsc","code","onClosesModal","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","onClick","src","largeImageURL","alt","ImageGallery","images","onClickModal","map","webformatURL","id","Button","hendleOnClick","ErrorMsg","message","LoaderB","color","height","width","timeout","class","App","img","imgLarge","error","isLoading","isModalOpen","getImages","hits","prev","onLoadMore","prevProps","prevState","Loader","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8a9e3ea8.chunk.js","sourcesContent":["const BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"24479204-21740ca2d7de34b5e441c6983\";\n\nconst fetchImg = async (imeges, page = 1) => {\n  const res = await fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${imeges}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`\n    // `${BASE_URL}?key=${API_KEY}&q=cat&page=1&image_type=photo&orientation=horizontal&per_page=12`\n  );\n\n  return res.ok ? res.json() : Promise.reject(new Error(res.statusText));\n};\n\nexport { fetchImg };\n","import { Component } from \"react\";\n\nclass Searchbar extends Component {\n  state = {\n    searchImg: \"\",\n  };\n\n  handleChange = (e) => {\n    this.setState({ searchImg: e.target.value.toLowerCase() });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.input(this.state.searchImg);\n  };\n\n  render() {\n    return (\n      <div>\n        <header className=\"searchbar\">\n          <form className=\"form\" onSubmit={this.handleSubmit}>\n            <button type=\"submit\" className=\"button\">\n              <span className=\"button-label\">Search</span>\n            </button>\n\n            <input\n              className=\"input\"\n              type=\"text\"\n              value={this.state.searchImg}\n              onChange={this.handleChange}\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n            />\n          </form>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default Searchbar;\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst modalRootRef = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleEsc);\n  }\n\n  handleEsc = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClosesModal();\n    }\n  };\n\n  handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.onClosesModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"modal\">\n          <img\n            src={this.props.largeImageURL}\n            alt=\"\"\n            onClick={this.props.onClosesModal}\n          />\n        </div>\n      </div>,\n      modalRootRef\n    );\n  }\n}\n\nexport default Modal;\n\n// const Modal = ({ largeImageURL }) => {\n//   return (\n//     <div>\n//       <div className=\"overlay\">\n//         <div className=\"modal\">\n//           <img src={largeImageURL} alt=\"\" />\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default Modal;\n","import React from \"react\";\nimport Modal from \"../common/Modal/Modal\";\n\nconst ImageGallery = ({ images, onClickModal }) => {\n  return (\n    <div>\n      <ul className=\"gallery\">\n        {images.map(({ webformatURL, id, largeImageURL }) => (\n          <li key={id}>\n            <img\n              src={webformatURL}\n              alt=\"Foto\"\n              onClick={() => onClickModal(largeImageURL)}\n            />\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default ImageGallery;\n","const Button = ({ hendleOnClick }) => {\n  return (\n    <div>\n      <button\n        type=\"button \"\n        onClick={hendleOnClick}\n        className=\"button load-btn\"\n      >\n        Load more\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import PropTypes from \"prop-types\";\n// import s from \"./ErrorMsg.module.css\";\n\nconst ErrorMsg = ({ message = \"\" }) => {\n  return <p>{message || \"Something went wrong\"}</p>;\n};\n\nErrorMsg.propTypes = {\n  message: PropTypes.string,\n};\n\nexport default ErrorMsg;\n","import Loader from \"react-loader-spinner\";\n\nconst LoaderB = () => {\n  return (\n    <Loader\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000}\n      class=\"lod\" //3 secs\n    />\n  );\n};\nexport default LoaderB;\n","import { Component } from \"react\";\n// import Loader from \"react-loader-spinner\";\nimport { fetchImg } from \"../../services/Api\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport Modal from \"../common/Modal/Modal\";\nimport ErrorMsg from \"../common/ErrorMsg/ErrorMsg\";\n\nimport LoaderB from \"../common/Loader/Loader\";\n\nclass App extends Component {\n  state = {\n    img: \"\",\n    imgLarge: \"\",\n    images: [],\n\n    error: null,\n    page: 1,\n    isLoading: false,\n    isModalOpen: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { img, page } = this.state;\n\n    if (prevState.img !== img || prevState.page !== page) {\n      this.getImages(img, page);\n    }\n  }\n\n  getImages = async (img, page) => {\n    this.setState({\n      isLoading: true,\n      error: null,\n    });\n    try {\n      const { hits } = await fetchImg(img, page);\n      this.setState((prev) => ({\n        images: [...prev.images, ...hits],\n      }));\n    } catch (error) {\n      this.setState({ error: error.message });\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  };\n\n  handleSubmit = (searchImg) => {\n    if (searchImg === this.state.img) return;\n    this.setState((prev) => ({\n      img: searchImg,\n      images: [],\n      page: 1,\n    }));\n  };\n\n  onLoadMore = () => {\n    this.setState((prev) => ({\n      page: prev.page + 1,\n    }));\n  };\n\n  onClickModal = (largeImageURL) => {\n    this.setState({\n      isModalOpen: true,\n      imgLarge: largeImageURL,\n    });\n  };\n\n  onClosesModal = () => {\n    this.setState({\n      isModalOpen: false,\n      imgLarge: \"\",\n    });\n  };\n\n  render() {\n    const { images, imgLarge, isModalOpen, isLoading, error } = this.state;\n    return (\n      <>\n        <Searchbar input={this.handleSubmit} />\n\n        {error && <ErrorMsg message={error} />}\n        <ImageGallery\n          images={images}\n          onClickModal={this.onClickModal}\n          isModalOpen={this.isModalOpen}\n        />\n        {isLoading && <LoaderB />}\n        {images.length > 0 && <Button hendleOnClick={this.onLoadMore} />}\n        {isModalOpen && (\n          <Modal largeImageURL={imgLarge} onClosesModal={this.onClosesModal} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}