(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{16:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(6),o=n.n(r),s=(n(16),n(4)),i=n.n(s),u=n(10),l=n(8),j=n(3),b="https://pixabay.com/api/",d="24479204-21740ca2d7de34b5e441c6983",O=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,c,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:1,e.next=3,fetch("".concat(b,"?key=").concat(d,"&q=").concat(t,"&page=").concat(n,"&image_type=photo&orientation=horizontal&per_page=12"));case 3:return c=e.sent,e.abrupt("return",c.ok?c.json():Promise.reject(new Error(c.statusText)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=n(0),h=function(e){var t=e.input,n=Object(c.useState)(""),a=Object(j.a)(n,2),r=a[0],o=a[1];return Object(f.jsx)("div",{children:Object(f.jsx)("header",{className:"searchbar",children:Object(f.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),t(r)},children:[Object(f.jsx)("button",{type:"submit",className:"button",children:Object(f.jsx)("span",{className:"button-label",children:"Search"})}),Object(f.jsx)("input",{className:"input",type:"text",value:r,onChange:function(e){o(e.target.value.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})})},m=document.querySelector("#modal-root"),p=function(e){var t=e.onClosesModal,n=e.largeImageURL;Object(c.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(r.createPortal)(Object(f.jsx)("div",{className:"overlay",onClick:function(e){e.target===e.currentTarget&&t()},children:Object(f.jsx)("div",{className:"modal",children:Object(f.jsx)("img",{src:n,alt:"",onClick:t})})}),m)},g=function(e){var t=e.images,n=e.onClickModal;return Object(f.jsx)("div",{children:Object(f.jsx)("ul",{className:"gallery",children:t.map((function(e){var t=e.webformatURL,c=e.id,a=e.largeImageURL;return Object(f.jsx)("li",{children:Object(f.jsx)("img",{src:t,alt:"Foto",onClick:function(){return n(a)}})},c)}))})})},x=function(e){var t=e.hendleOnClick;return Object(f.jsx)("div",{children:Object(f.jsx)("button",{type:"button ",onClick:t,className:"button load-btn",children:"Load more"})})},v=function(e){var t=e.message,n=void 0===t?"":t;return Object(f.jsx)("p",{children:n||"Something went wrong"})},w=n(11),k=n.n(w),y=function(){return Object(f.jsx)(k.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3,class:"lod"})},S=function(){var e=Object(c.useState)(null),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),o=Object(j.a)(r,2),s=o[0],b=o[1],d=Object(c.useState)([]),m=Object(j.a)(d,2),w=m[0],k=m[1],S=Object(c.useState)(null),C=Object(j.a)(S,2),N=C[0],L=C[1],E=Object(c.useState)(1),F=Object(j.a)(E,2),M=F[0],I=F[1],R=Object(c.useState)(!1),U=Object(j.a)(R,2),P=U[0],q=U[1],B=Object(c.useState)(!1),J=Object(j.a)(B,2),T=J[0],_=J[1];Object(c.useEffect)((function(){if(null!==n){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),L(null),console.log(O),e.prev=3,e.next=6,O(n,M);case 6:t=e.sent,c=t.hits,k((function(e){return[].concat(Object(u.a)(e),Object(u.a)(c))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),L(e.t0.message);case 14:return e.prev=14,q(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,11,14,17]])})));return function(){return e.apply(this,arguments)}}();e()}}),[n,M]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(h,{input:function(e){e!==n&&(a(e),k([]),I(1))}}),N&&Object(f.jsx)(v,{message:N}),Object(f.jsx)(g,{images:w,onClickModal:function(e){_(!0),b(e)},isModalOpen:T}),P&&Object(f.jsx)(y,{}),w.length>0&&Object(f.jsx)(x,{hendleOnClick:function(){I((function(e){return e+1}))}}),T&&Object(f.jsx)(p,{largeImageURL:s,onClosesModal:function(){_(!1),b("")}})]})};o.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(S,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.39b9d0fb.chunk.js.map